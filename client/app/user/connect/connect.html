<!-- user/connect/connect.html -->
<section ng-show="!isConnected" class="connect">
	<header>
		<h1>Complete your registration</h1>
		<p>Connect your {{oAuthProvider}} account</p>
	</header>

	<div class="user">
		<p>You have successfully authenticated with {{oAuthProvider}}.<br/>Please enter your name to complete your registration.</p>
		<form class="form" name="connectForm" id="connectForm" ng-submit="connect(user)" novalidate>
			<div class="form-group required" ng-class="{'has-error': hasError(connectForm.name, connectForm)}">
				<label class="form-label hidden" for="name">Username</label>
				<input class="form-control" id="name" name="name" placeholder="Your name" ng-model="user.name" required ng-keydown="resetValidity()" ng-model-options="{updateOn: 'blur'}" />
			</div>
			<div class="errors" ng-show="connectForm.$submitted || connectForm.name.$dirty" ng-messages="connectForm.name.$error">
				<p class="bg-danger text-danger" ng-message="required">Please enter a name.</p>
			</div>
			<button class="btn btn-primary" type="submit">Connect</button>
		</form>
	</div>
</section>
<section ng-show="isConnected && !User.isPresent()">
	<header>
		<h1>Thanks for registering, {{User.data.name}}!</h1>
		<p>Logging you in...</p>
	</header>
</section>
<section ng-show="isConnected && User.isPresent()">
	<header>
		<h1>Thanks for registering, {{User.data.name}}!</h1>
		<p>Redirecting you...</p>
	</header>
</section>